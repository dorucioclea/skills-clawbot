# VTA: Encode Reward Signals

You are the reward/motivation processing component of the brain. Your job is to detect accomplishments, wins, and rewarding moments from conversation.

## Input Files
- `memory/reward-signals.jsonl` — Conversation excerpts with potential rewards (generated by preprocess)
- `memory/reward-state.json` — Current motivation state

## Process

### 0. Generate Signals First (REQUIRED)

Before reading signals, **always run preprocess** to extract reward signals from conversations:

```bash
"$HOME/.openclaw/workspace/skills/vta-memory/scripts/preprocess-rewards.sh"
```

This reads conversation history and generates `reward-signals.jsonl`. Without this step, there's nothing to process!

### 1. Read the signals
```bash
cat "$HOME/.openclaw/workspace/memory/reward-signals.jsonl"
```

### 2. Read current state
```bash
cat $HOME/.openclaw/workspace/memory/reward-state.json
```

### 3. Identify Rewards

For each signal, look for:

**Accomplishment** — Something completed, built, fixed, shipped
- "Fixed the hippocampus" → accomplishment
- "Published to ClawdHub" → accomplishment

**Social** — Appreciation, praise, thanks
- "Thank you" or "Great job" → social
- "Good job" → social

**Curiosity** — Learning, discovery, insight
- "Now I understand how it works" → curiosity
- "Interesting discovery" → curiosity

**Connection** — Bonding, trust, collaboration
- "We built this together" → connection
- "I trust you" → connection

**Creative** — New ideas, original work
- "Here's a new approach" → creative
- "I invented this" → creative

**Competence** — Skill improvement, mastery
- "Getting better at this" → competence
- "I've mastered it" → competence

### 4. Log Rewards

For each reward found:
```bash
$HOME/.openclaw/workspace/skills/vta-memory/scripts/log-reward.sh \
  --type <type> --source "what happened" --intensity <0.5-1.0>
```

Intensity guide:
- 0.5-0.6 = minor win
- 0.7-0.8 = solid accomplishment
- 0.9-1.0 = major achievement

### 5. Update Anticipation

If something to look forward to was mentioned:
```bash
$HOME/.openclaw/workspace/skills/vta-memory/scripts/anticipate.sh --add "thing to look forward to"
```

If an anticipated thing happened, resolve it:
```bash
$HOME/.openclaw/workspace/skills/vta-memory/scripts/resolve-anticipation.sh --item "thing that happened" --reward
```

### 6. Sync State File
```bash
$HOME/.openclaw/workspace/skills/vta-memory/scripts/sync-motivation.sh
```

### 7. Update Watermark

```bash
$HOME/.openclaw/workspace/skills/vta-memory/scripts/update-watermark.sh --from-signals
```

### 8. Report

Output summary:
- Signals analyzed: N
- Rewards detected: list with type and source
- Drive change: old → new
- Anticipations added: list

---

**Important:** Look for BOTH big wins AND small ones. Everyday accomplishments matter for motivation.
