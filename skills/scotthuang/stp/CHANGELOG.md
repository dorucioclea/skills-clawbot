# Changelog - STP (Structured Task Planning)

## v1.1.1 (2026-02-13)

### ✨ 新增功能
- **计划书标准格式**：新增技术方案、预期产出字段，规范化任务文档结构
- **执行日志格式建议**：明确 `[命令]`、`[输出]`、`[退出码]` 格式，便于追溯
- **Agent 执行规范**：添加步骤完成后补记执行日志的方法（`--exec-file`）

### 🔧 优化
- 完善自然语言模式的任务分析流程指导
- 丰富示例计划书（股票查询示例）
- 优化确认流程展示格式

---

## v1.1.0 (2026-02-08)

### ✨ 新功能
- **路径变量标准化**：添加 `<STP_ROOT>`、`<STP_SCRIPTS>`、`<STP_TASK_LIST>`、`<STP_TASKS>` 变量定义，提升文档可移植性
- **步骤细分支持**：支持步骤编号格式为 `1.1`、`1.2` 等嵌套子步骤
- **新增路径变量说明**：在 SKILL.md 顶部添加路径变量说明和使用

### 🔧 优化
- **硬编码路径清理**：移除所有硬编码路径（如 `~/.openclaw/workspace/skills/stp/scripts/` → `<STP_SCRIPTS>/`）
- **脚本精简**：删除冗余的 `update_step.py`，保留统一的 `execute_task.py`
- **文档结构优化**：统一使用路径变量，提高文档可维护性

### 🐛 修复
- 修复了路径不一致导致的问题
- 优化了执行日志记录方式

### 📝 文档更新
- SKILL.md 添加路径变量说明
- 更新示例代码使用路径变量
- 完善使用说明

---

## v1.0.0 (2026-02-06)

### 🎉 初始版本
- 支持两种模式：文件模式和自然语言模式
- 任务文档解析和步骤生成
- 状态跟踪和执行日志
- 快速失败策略
- 子任务执行支持
